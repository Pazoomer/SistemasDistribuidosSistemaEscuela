<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Moodle</title>
  <link rel="icon" href="/images/moodle.png" type="image/x-icon">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/bootstrap-icons.css" rel="stylesheet">
  <link href="css/templatemo-kind-heart-charity.css" rel="stylesheet">
</head>

<body>

  <div class="container mt-5">
    <h2>Materias</h2>
    <div id="listaMaterias" class="row gy-3"></div>
  </div>

  <script>
    /*
    const rol = localStorage.getItem("rol");

    if (!rol) {
      window.location.href = "login.html"; // Si no hay sesión, redirige
    }

    // Mostrar opciones según el rol
    if (rol === "estudiante") {

    }

    // Mostrar materias según el rol
    const rolUsuario = localStorage.getItem("rol");
    const idUsuario = localStorage.getItem("id_usuario"); // asegúrate de guardar esto al iniciar sesión

    async function cargarMaterias() {
      let url = "";

      if (rolUsuario === "maestro") {
        url = `https://sistemasdistribuidossistemaescuela.onrender.com/materias/maestro/${idUsuario}`;
      } else if (rolUsuario === "estudiante") {
        url = `https://sistemasdistribuidossistemaescuela.onrender.com/materias/alumno/${idUsuario}`;
      }
      
      try {
        const response = await fetch(url);
        const materias = await response.json();

        const contenedor = document.getElementById("listaMaterias");
        contenedor.innerHTML = ""; // Limpia antes

        materias.forEach(m => {
          const div = document.createElement("div");
          div.className = "col-md-4";
          div.innerHTML = `
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">${m.nombre}</h5>
          </div>
        </div>`;
          contenedor.appendChild(div);
        });
      } catch (err) {
        console.error("Error al cargar materias:", err);
      }
    }

    cargarMaterias();*/
  </script>

  <script type="module">
    import {agregarDatosEjemplo} from './js/firebase.js';

    agregarDatosEjemplo();

  </script>

  <script src="js/jquery.min.js"></script>
  <!-- <script src="js/bootstrap.min.js"></script> -->
  <script src="js/jquery.sticky.js"></script>
  <script src="js/click-scroll.js"></script>
  <script src="js/counter.js"></script>
  <script src="js/custom.js"></script>

</body>

</html>